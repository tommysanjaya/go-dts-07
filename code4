package main

import (
	"fmt"
	"os"
	"strconv"
)

type murid struct {
	nama, alamat, pekerjaan, alasan string
	absen                           int
}

func main() {
	reqData()
}

func reqData() {

	//input data ke slice murid
	var data = []murid{
		{absen: 1, nama: "Abe", alamat: "Jl. Tanah", pekerjaan: "Gabut", alasan: "fomo"},
		{absen: 2, nama: "Bae", alamat: "Jl. Angin", pekerjaan: "Joki", alasan: "penasaran"},
		{absen: 3, nama: "Edi", alamat: "Jl. Api", pekerjaan: "Judi", alasan: "mau belajar"},
		{absen: 4, nama: "Cay", alamat: "Jl. Air", pekerjaan: "Jualan", alasan: "bosen"},
		{absen: 5, nama: "Duh", alamat: "Jl. Petir", pekerjaan: "Tidur", alasan: "coba coba"},
	}

	//cek apakah user melakukan input argumen saat menjalankan program
	if len(os.Args) < 2 {
		fmt.Println("Please provide the number argument")
		return
	}

	//ubah argumen [1] dari string menjadi integer. note argumen [0] = nama program nya, jika argumen terdeteksi
	//bukan int maka program akan memunculkan error message
	no, err := strconv.Atoi(os.Args[1])
	if err != nil {
		fmt.Println("Invalid argument")
		return
	}

	//cek data murid dengan membandingkan nomor absensi yang ada pada slice murid dengan input argumen
	//saat menjalankan program
	for _, murid := range data {
		if murid.absen == no {
			fmt.Printf("Nama: %v\nAlamat: %v\nPekerjaan: %v\nAlasan: %v\n", murid.nama, murid.alamat, murid.pekerjaan, murid.alasan)
			return
		}
	}

	fmt.Println("Data not found")

}
